{# verify if the route is tricks_edit show the images #}
{% if app.request.attributes.get('_route') == 'tricks_edit' %}
<div class="editAssets">
  {% for image in trick.images %}
    <div class="asset_edit">
      <img src="{{ asset('/uploads/' ~ image.name) }}" alt="" width="200" height=""  />
      {# On ajoute un lien permettant de supprimer une image (sera géré en Ajax) #}
      <a class="delete_icon" href="{{
        path(
          'tricks_delete_image',
          {
            id: image.id
          }
        )
        }}"
        data-delete
        data-token="{{ csrf_token('delete' ~ image.id) }}">
        <svg id="Layer_1"
                  onclick="deleteTrick(e)"
                  class="card__like"
                  data-name="Layer 1"
                  xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink"
                  viewBox="0 0 512 512">
                  <defs>
                    <linearGradient id="linear-gradient"
                      x1="256"
                      x2="256"
                      y2="512"
                      gradientUnits="userSpaceOnUse">
                      <stop offset="0" stop-color="#e9ebf5" />
                      <stop offset="0.76" stop-color="#b0c7e1" />
                      <stop offset="1" stop-color="#7697c6" />
                    </linearGradient>
                    <linearGradient id="linear-gradient-2"
                      x1="256"
                      y1="399.41"
                      x2="256"
                      y2="112.59"
                      gradientUnits="userSpaceOnUse">
                      <stop offset="0" stop-color="#000013" />
                      <stop offset="1" stop-color="#005c92" />
                    </linearGradient>
                  </defs>
                  <path d="M256,512c141,0,256-115,256-256S397,0,256,0,0,115,0,256,115,512,256,512Z"
                    fill-rule="evenodd"
                    fill="url(#linear-gradient)" />
                  <path d="M352.39,119.31l29.85,29.86a23.09,23.09,0,0,1,0,32.57L308,256l74.27,74.27a23.1,23.1,0,0,1,0,32.57l-29.86,29.85a23.1,23.1,0,0,1-32.57,0l-74.26-74.26-74.27,74.26a23.1,23.1,0,0,1-32.57,0l-29.85-29.85a23.1,23.1,0,0,1,0-32.57L183.14,256l-74.27-74.26a23.09,23.09,0,0,1,0-32.57l29.85-29.86a23.1,23.1,0,0,1,32.57,0l74.27,74.26,74.26-74.26A23.1,23.1,0,0,1,352.39,119.31Z"
                    fill="#fff"
                    fill-rule="evenodd" />
                  <path d="M362.84,119.31l29.85,29.86a23.08,23.08,0,0,1,0,32.57L318.43,256l74.26,74.27a23.08,23.08,0,0,1,0,32.57l-29.85,29.85a23.11,23.11,0,0,1-32.58,0L256,318.43l-74.27,74.26a23.09,23.09,0,0,1-32.56,0l-29.86-29.85a23.1,23.1,0,0,1,0-32.57L193.57,256l-74.26-74.26a23.09,23.09,0,0,1,0-32.57l29.86-29.86a23.09,23.09,0,0,1,32.56,0L256,193.58l74.26-74.26A23.11,23.11,0,0,1,362.84,119.31Z"
                    fill-rule="evenodd"
                    fill="url(#linear-gradient-2)" />
                </svg>
      </a>
    </div>
  {% endfor %}
  {% for video in trick.videos %}
    <div class="asset_edit">
      <embed type="video/webm"
        src="{{ video.embed }}"
        width="200"
        height="" />
      <a class="delete_icon" href="{{
        path(
          'tricks_delete_video',
          {
            id: video.id
          }
        )
        }}"
        data-delete
        data-token="{{ csrf_token('delete' ~ video.id) }}">
        <svg id="Layer_1"
                  onclick="deleteTrick(e)"
                  class="card__like"
                  data-name="Layer 1"
                  xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink"
                  viewBox="0 0 512 512">
                  <defs>
                    <linearGradient id="linear-gradient"
                      x1="256"
                      x2="256"
                      y2="512"
                      gradientUnits="userSpaceOnUse">
                      <stop offset="0" stop-color="#e9ebf5" />
                      <stop offset="0.76" stop-color="#b0c7e1" />
                      <stop offset="1" stop-color="#7697c6" />
                    </linearGradient>
                    <linearGradient id="linear-gradient-2"
                      x1="256"
                      y1="399.41"
                      x2="256"
                      y2="112.59"
                      gradientUnits="userSpaceOnUse">
                      <stop offset="0" stop-color="#000013" />
                      <stop offset="1" stop-color="#005c92" />
                    </linearGradient>
                  </defs>
                  <path d="M256,512c141,0,256-115,256-256S397,0,256,0,0,115,0,256,115,512,256,512Z"
                    fill-rule="evenodd"
                    fill="url(#linear-gradient)" />
                  <path d="M352.39,119.31l29.85,29.86a23.09,23.09,0,0,1,0,32.57L308,256l74.27,74.27a23.1,23.1,0,0,1,0,32.57l-29.86,29.85a23.1,23.1,0,0,1-32.57,0l-74.26-74.26-74.27,74.26a23.1,23.1,0,0,1-32.57,0l-29.85-29.85a23.1,23.1,0,0,1,0-32.57L183.14,256l-74.27-74.26a23.09,23.09,0,0,1,0-32.57l29.85-29.86a23.1,23.1,0,0,1,32.57,0l74.27,74.26,74.26-74.26A23.1,23.1,0,0,1,352.39,119.31Z"
                    fill="#fff"
                    fill-rule="evenodd" />
                  <path d="M362.84,119.31l29.85,29.86a23.08,23.08,0,0,1,0,32.57L318.43,256l74.26,74.27a23.08,23.08,0,0,1,0,32.57l-29.85,29.85a23.11,23.11,0,0,1-32.58,0L256,318.43l-74.27,74.26a23.09,23.09,0,0,1-32.56,0l-29.86-29.85a23.1,23.1,0,0,1,0-32.57L193.57,256l-74.26-74.26a23.09,23.09,0,0,1,0-32.57l29.86-29.86a23.09,23.09,0,0,1,32.56,0L256,193.58l74.26-74.26A23.11,23.11,0,0,1,362.84,119.31Z"
                    fill-rule="evenodd"
                    fill="url(#linear-gradient-2)" />
                </svg>
      </a>
    </div>
  {% endfor %}
{% endif %}
</div>
{{ form_start(form) }}
{{ form_widget(form) }}
<button class="btn btn-primary float-right">
  {{ button_label|default('Créer') }}
</button>
{{ form_end(form) }}
